Write a query for 3rd highest salary in sql if less then 3 count print  2nd heigest salary
SELECT * FROM 
(
SELECT 
FIRST_NAME,
SALARY,
DEPARTMENT_ID,
DENSE_RANK() OVER(PARTITION BY DEPARTMENT_ID ORDER BY SALARY DESC) RK ,
COUNT(DEPARTMENT_ID) OVER (PARTITION BY DEPARTMENT_ID) TOT_CNT
FROM HR.EMPLOYEES
)
WHERE RK=3 OR (TOT_CNT<3 AND RK=TOT_CNT);
